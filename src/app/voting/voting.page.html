<ion-header [translucent]="true">
  <ion-toolbar color="success">
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
  </ion-buttons>

    <ion-title>Voting</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">voting</ion-title>
    </ion-toolbar>
  </ion-header>

  <div className="ion-text-center">
    <!-- <ion-grid>
        <ion-row>
                    <ion-col size='6' *ngFor="let el of data" [ngStyle]="{textAlign : 'center'}">
                        <ion-card [ngStyle]="{ border : '1px solid blue',borderRadius: '20px 0', paddingTop: '10px'}" routerDirection="forward" (click)="goTo(el.id)">
                            <img src="{{'http://localhost:8000/uploads/vote/' + el.image }}" [ngStyle]="{width: '150px',height: '150px'}" />
                            <ion-card-header>
                                <ion-card-title>{el.name}</ion-card-title>
                                <ion-card-subtitle>{{ el.name }}</ion-card-subtitle>
                            </ion-card-header>

                            <ion-card-content>


                                    <div *ngIf="count > 0">
                                        <ion-badge color='primary'>Voters : {{el.vote}}</ion-badge>
                                    </div>

                            </ion-card-content>
                                <div *ngIf="count <= 0">
                                    <div>
                                        <ion-badge color='primary'>Voters : {{el.vote}}</ion-badge>
                                    </div>

                                <ion-button (click)="presentAlert(el.id)" size='small'>Vote</ion-button>
                                </div>

                        </ion-card>
                    </ion-col>
        </ion-row>
    </ion-grid> -->
    <div *ngFor="let item of data">
      <div [ngStyle]="{textAlign: 'center'}">
      <ion-button color="primary" id="present-alert{{ item.id }}" [ngStyle]="{textAlign: 'center'}">{{ item.name }}</ion-button>

      <ion-alert
        trigger="present-alert{{ item.id }}"
        header="{{ item.name }}"
        subHeader="{{ item.price }}"
        message="{{ item.description }}"
        [buttons]="['OK']"
      ></ion-alert>

    </div>
    <ion-grid [ngStyle]="{backgroundColor : 'lightblue'}">
      <ion-row class="scroll" color="dark">

      <ion-col size="6" *ngFor="let el of item.vote; let odd = odd">
        <ion-card routerDirection="forward" [ngStyle]="{ border : '1px solid blue',borderRadius: '20px 0', paddingTop: '10px',textAlign: 'center'}">
          <div (click)="goTo(el.id)">
            <img src="{{'mahasiswaif21.site/uploads/vote/' + el.image }}" [ngStyle]="{width: '150px',height: '150px'}" />
          <ion-card-header>
            <ion-card-title>{{ el.name }}</ion-card-title>
            <!-- <ion-card-subtitle>{{ el.name }}</ion-card-subtitle> -->
          </ion-card-header>
        </div>
          <ion-card-content>
            <ion-badge color='primary'>Voters : {{el.vote}}</ion-badge>
            
            <div *ngIf="el.count == 0">
              <ion-button (click)="presentAlert(el.id)" size='small'>Vote</ion-button>
            </div>
              <div *ngIf="el.count > 0">
                <div *ngIf="el.history != null">
                  <ion-button (click)="batal(el.id)" color="dark" size='small'>Batal Vote</ion-button>
                </div>
              </div>

            <!-- <div *ngFor="let d of vote">
              <div *ngIf="setBreak(el.id,d.vote_id)">
                <ion-button (click)="batal(el.id)" color="dark" size='small'>Batal Vote</ion-button>
              </div>

              <div *ngIf="el.category_id != d.vote.category_id">
                <div *ngIf="el.id != d.vote_id">
                  <ion-button (click)="presentAlert(el.id)" size='small' color="tertiary">Vote</ion-button>
                </div>
              </div>

            </div> -->
          </ion-card-content>
        </ion-card>

      </ion-col>

      </ion-row>
      </ion-grid>
    </div>
</div>

</ion-content>
